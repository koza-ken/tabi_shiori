<%# 作成モーダルの挿入 %>
<%= turbo_frame_tag "card-create-modal", data: { controller: "modal" } %>

<div class="min-h-screen bg-main-bg">
  <main class="flex flex-col items-center justify-center px-8 py-12">
    <%# <div class="w-full max-w-md bg-white rounded-lg shadow-md p-8"> %>
    <div class="w-full max-w-md mb-10">
      <div class="mb-4 flex justify-between items-center">
        <div class="flex items-center">
          <h2 class="text-2xl font-bold text-text"><%= @group.name %></h2>
        </div>
      </div>
      <div id="group_details">
        <%= render "details", group: @group %>
      </div>
      <div>
        <button
          data-controller="clipboard"
          data-clipboard-text-value="<%= new_membership_url(@group.invite_token) %>"
          data-action="click->clipboard#copy"
          class="px-4 py-2 bg-white border-2 border-gray-300 text-text rounded-lg hover:bg-gray-50 transition">
          招待する
        </button>
      </div>
    </div>

    <div class="w-full max-w-md">
      <div class="mb-4 flex justify-between">
        <h2 class="text-2xl font-bold text-text text-center"><%= t('.travel_candidates') %></h2>
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <circle cx="12" cy="5" r="2"/>
          <circle cx="12" cy="12" r="2"/>
          <circle cx="12" cy="19" r="2"/>
        </svg>
      </div>
      <div>
        <div id="group_cards_list">
          <%= render "cards", card:@group.cards %>
        </div>
        <div id="group-create-button" class="card-index border-dashed text-center mt-2" data-controller="modal">
          <%= link_to new_card_path, data: {turbo_frame: "card-create-modal", action: "click->modal#setGroupId", group_id: @group.id}, class: "flex items-center justify-center gap-2" do %>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>
            <p>カードを追加する</p>
          <% end %>
        </div>
      </div>
    </div>
  </main>
</div>
